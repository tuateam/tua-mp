<view class="todoapp">
    <view class="header">
        <view class="h1">todos</view>
        <input
            focus
            value="{{ newTodo }}"
            class="new-todo"
            bindinput="inputTodo"
            bindconfirm="addTodo"
            placeholder="What needs to be done?"
        />
    </view>

    <view class="main" hidden="{{ !todos.length }}">
        <checkbox
            id="toggle-all"
            class="toggle-all"
            checked="{{ allDone }}"
        />
        <label for="toggle-all">Mark all as complete</label>
        <view class="todo-list">
            <view
                class="li todo {{ filteredTodosClass }}"
                wx:for="{{ filteredTodos }}"
                wx:for-item="todo"
                wx:key="id"
            >
                <view class="view">
                    <checkbox
                        class="toggle"
                        checked="{{ todo.completed }}"
                    />
                    <label bindlongpress="editTodo(todo)">
                        {{ todo.title }}
                    </label>
                    <view
                        class="destroy"
                        bindtap="removeTodo(todo)"
                    />
                </view>
                <input
                    class="edit"
                    value="{{ todo.title }}"
                    bindblur="doneEdit(todo)"
                    bindconfirm="doneEdit(todo)"
                />
            </view>
        </view>
    </view>

    <view class="footer" hidden="{{ !todos.length }}">
        <text class="todo-count">
            {{ remaining }} {{ remainingStr }} left
        </text>
        <text class="filters">
            <text class="li">
                <text class="a" :class="{selected: visibility == 'all'}">All</text>
            </text>
            <text class="li">
                <text class="a" :class="{selected: visibility == 'active'}">Active</text>
            </text>
            <text class="li">
                <text class="a" :class="{selected: visibility == 'completed'}">Completed</text>
            </text>
        </text>
        <button
            class="clear-completed"
            bindtap="removeCompleted"
            hidden="todos.length <= remaining"
        >
            Clear completed
        </button>
    </view>
</view>

<view class="info">
    <view>Long-press to edit a todo</view>
    <view>长按编辑一个 todo</view>
    <view>Written by StEve Young(httviews://github.com/BuviewtStEve)</view>
</view>
